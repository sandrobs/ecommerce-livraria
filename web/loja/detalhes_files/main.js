function homeCarouselCallback(){$(".carousel.pagination").carousel({pagination:!0}),dragproducts.init()}function paginationCallback(a,b){$(".dropdown-toggle").dropdownList(),"list"==api.type_vitrine()&&api.is_moda&&moda(),$(".visualization .selected").removeClass("selected"),$(".visualization").find("."+api.type_vitrine()).addClass("selected"),$(".image-control").length>0&&($(".image-control [data-size='"+api.vitrineSize+"']").addClass("selected"),$(".single-product").replaceClass(/vitrine[0-9]*/,"vitrine"+api.vitrineSize)),dragproducts.init(),comparatorProducs().updatePaginationCallbackComparator()}function GetTodayDate(){var a=new Date,b=a.getDate(),c=a.getMonth(),d=a.getFullYear(),e=b+"/"+(c+1)+"/"+d;return{date:e,mili:new Date(d,c,b).getTime()}}function formatCepAllOptions(a,b){var c=document.getElementById("freight-template").innerHTML,d=["rpprime","xp","rp","geral","eg","agendada"];$(a.freightOptions).each(function(e,f){switch(f.totalWeekdays+=f.totalWeekdays>1?" dias úteis":" dia útil",f.totalFreightPrice=0==f.totalFreightPrice?"Frete grátis":f.totalFreightPrice.formatMoney(),f.contract=f.contract.toLowerCase(),f.contract){case"geral":f.contractName="Econômica";break;case"rpprime":f.contractName="Prime";break;case"rp":f.contractName="Rápida";break;case"agendada":f.contractName="Agendada",f.totalWeekdays="A agendar";break;case"xp":f.contractName="Atômica";break;case"eg":f.contractName="Garantida"}if("Garantida"==f.contractName){var g=f.deliverUntil,h=g.split("-"),i=h[2],j=h[1],k=h[0];f.deliverUntil=i+"/"+j+"/"+k}a.freightOptions.sort(function(a,b){var c=a.contract.toLowerCase(),e=b.contract.toLowerCase();return d.indexOf(c)-d.indexOf(e)}),"Prime"==f.contractName?(f.userPrime=null,api.verifyPrimeUser().done(function(d){var e=null;a.freightOptions.map(function(a,b){"rp"==a.contract&&(e=b),a.userPrime=!0,api.getDataPrimeUser().done(function(b){a.dataUserPrime=b})}),a.freightOptions.splice(e,1),b(a,c)}).fail(function(){api.getDataPrimeUser().done(function(d){a.freightOptions.map(function(a){a.userPrime=!1,$(".destaque-brand .stamp-pass").addClass("stamp-exist");var b=d.pricing.daily.toString().replace(".",",");"rpprime"==a.contract&&($(".mp-shipping .freight-result").addClass("freight-result-pass"),a.dataUserPrime=d,a.newPrice=b)}),b(a,c)})})):b(a,c)})}function getUrlBase(){var a=$(".filter-box .lst-filters").data("filtros"),b=new RegExp("(/"+a.replace(/[,]/g,"|\\/")+")(.*)","g");return window.location.href.replace(b,"")}function checkItemFilter(a){var b=[];return $(".filter-"+a+" .dd-list a").not(".filter-cor .dd-list .selected a").each(function(){var a=$(this);a.find("span").hasClass("checked")&&b.push(a.text().trim().toLowerCase().replace(/\s/gi,"+"))}),b}function updateUrlFilter(){for(var a=$(".filter-box .lst-filters").data("filtros").split(","),b=getUrlBase(),c=0;c<a.length;c++){var d=a[c],e=checkItemFilter(d);e.length&&(b+="/"+d+"-"+e.join("-"))}window.location.href=b}function updateFiltersSidebar(){var a={};$(".filterStore .filter").each(function(){var b=$(this),c=cleanSpecialChars(b.find(".filter-title").text(),!0,!0);a.hasOwnProperty(c)||(a[c]=[]),b.find(".it-list a").each(function(){var b=$(this),d=b.find(".spt-i-custom-check");if(b.on("click",function(a){a.preventDefault(),d.toggleClass("checked")}),d.hasClass("checked")){var e=b.find(".txt-name").text();a[c].push(e.toLowerCase().replace(/\s/g,"+"))}})});var b=getUrlBase();$.each(a,function(a,c){c.length&&(b+="/"+a+"-"+c.join("-"))}),window.location.href=b}function cleanSpecialChars(a,b,c){var d=a;return d=d.replace(/[áàâãä]/gi,"a"),d=d.replace(/[ÁÀÂÃÄ]/gi,"A"),d=d.replace(/[éèê]/gi,"e"),d=d.replace(/[ÉÈÊ]/gi,"E"),d=d.replace(/[íì]/gi,"i"),d=d.replace(/[ÍÌ]/gi,"I"),d=d.replace(/[óòôõö]/gi,"o"),d=d.replace(/[ÓÒÔÕÖ]/gi,"O"),d=d.replace(/[úùü]/gi,"u"),d=d.replace(/[ÚÙÜ]/gi,"U"),d=d.replace(/ç/gi,"c"),d=d.replace(/Ç/gi,"C"),d=d.replace(/[\]\[\>\<\}\{\)\(\:\;\,\!\?\*\%\~\^\`\&\#\@]/gi,""),b&&(d=d.replace(/[\s]/gi,"+")),c&&(d=d.toLowerCase()),d}function openModalOpn(a,b){injs.load(["vendor/cookie/jquery.cookie"],function(){$.ajax(b).done(function(b){return"NULL"==b.trim()?!1:void("true"!=$.cookie(a)&&-1!=window.location.href.toLowerCase().indexOf(a)&&(api.lightbox(b,"inline"),$.cookie(a,!0,{expires:1,path:"/"}),setTimeout(function(){var a=$(".cr-porteiro");App.trigger("run:cr",a),a.find("> .app-cr").one("complete",function(){}),$(document).delegate(".cr-msg1","click",function(a,b,c){window.$.magnificPopup.close()})},500)))})})}function checkEmailValid(a){var b=$(a),c=new RegExp("[a-zA-Z0-9-_]{1,}@[a-zA-Z0-9-_]{3,}[.]{1}[a-zA-Z0-9-_]{2,}.*","g"),d="E-mail inválido";c.test(b.val())&&(d=""),b.get(0).setCustomValidity(d)}var api={},buyForm={};api.is_moda=!1,panelDomain="https://carrinho.submarino.com.br",checkoutDomain="https://carrinho.submarino.com.br";var newAPICep=!0;$(".moda-sku").length&&(api.is_moda=!0,injs.load(["vendor/btip/btip"],function(){injs.load(["vendor/moda/moda"],function(){api.modaProduct=modaConstruct(".a-main-product").init(function(){api.marketPlaceModa()}),$("[data-title]").btip()})})),api.exclusiveMarketplace=$("[data-exclusive-marketplace=true]").length>0,function(a,b){function c(b,c){var e,f,g,h=b.nodeName.toLowerCase();return"area"===h?(e=b.parentNode,f=e.name,b.href&&f&&"map"===e.nodeName.toLowerCase()?(g=a("img[usemap=#"+f+"]")[0],!!g&&d(g)):!1):(/input|select|textarea|button|object/.test(h)?!b.disabled:"a"===h?b.href||c:c)&&d(b)}function d(b){return a.expr.filters.visible(b)&&!a(b).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e=0,f=/^ui-id-\d+$/;a.ui=a.ui||{},a.ui.version||(a.extend(a.ui,{version:"1.10.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({_focus:a.fn.focus,focus:function(b,c){return"number"==typeof b?this.each(function(){var d=this;setTimeout(function(){a(d).focus(),c&&c.call(d)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var b;return b=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!b.length?a(document):b},zIndex:function(c){if(c!==b)return this.css("zIndex",c);if(this.length)for(var d,e,f=a(this[0]);f.length&&f[0]!==document;){if(d=f.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(e=parseInt(f.css("zIndex"),10),!isNaN(e)&&0!==e))return e;f=f.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})},removeUniqueId:function(){return this.each(function(){f.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(b){return function(c){return!!a.data(c,b)}}):function(b,c,d){return!!a.data(b,d[3])},focusable:function(b){return c(b,!isNaN(a.attr(b,"tabindex")))},tabbable:function(b){var d=a.attr(b,"tabindex"),e=isNaN(d);return(e||d>=0)&&c(b,!e)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(c,d){function e(b,c,d,e){return a.each(f,function(){c-=parseFloat(a.css(b,"padding"+this))||0,d&&(c-=parseFloat(a.css(b,"border"+this+"Width"))||0),e&&(c-=parseFloat(a.css(b,"margin"+this))||0)}),c}var f="Width"===d?["Left","Right"]:["Top","Bottom"],g=d.toLowerCase(),h={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+d]=function(c){return c===b?h["inner"+d].call(this):this.each(function(){a(this).css(g,e(this,c)+"px")})},a.fn["outer"+d]=function(b,c){return"number"!=typeof b?h["outer"+d].call(this,b):this.each(function(){a(this).css(g,e(this,b,!0,c)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=function(b){return function(c){return arguments.length?b.call(this,a.camelCase(c)):b.call(this)}}(a.fn.removeData)),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(b,c,d){var e,f=a.ui[b].prototype;for(e in d)f.plugins[e]=f.plugins[e]||[],f.plugins[e].push([c,d[e]])},call:function(a,b,c){var d,e=a.plugins[b];if(e&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<e.length;d++)a.options[e[d][0]]&&e[d][1].apply(a.element,c)}},hasScroll:function(b,c){if("hidden"===a(b).css("overflow"))return!1;var d=c&&"left"===c?"scrollLeft":"scrollTop",e=!1;return b[d]>0?!0:(b[d]=1,e=b[d]>0,b[d]=0,e)}}))}(jQuery),function(a,b){var c=0,d=Array.prototype.slice,e=a.cleanData;a.cleanData=function(b){for(var c,d=0;null!=(c=b[d]);d++)try{a(c).triggerHandler("remove")}catch(f){}e(b)},a.widget=function(b,c,d){var e,f,g,h,i={},j=b.split(".")[0];b=b.split(".")[1],e=j+"-"+b,d||(d=c,c=a.Widget),a.expr[":"][e.toLowerCase()]=function(b){return!!a.data(b,e)},a[j]=a[j]||{},f=a[j][b],g=a[j][b]=function(a,b){return this._createWidget?void(arguments.length&&this._createWidget(a,b)):new g(a,b)},a.extend(g,f,{version:d.version,_proto:a.extend({},d),_childConstructors:[]}),h=new c,h.options=a.widget.extend({},h.options),a.each(d,function(b,d){return a.isFunction(d)?void(i[b]=function(){var a=function(){return c.prototype[b].apply(this,arguments)},e=function(a){return c.prototype[b].apply(this,a)};return function(){var b,c=this._super,f=this._superApply;return this._super=a,this._superApply=e,b=d.apply(this,arguments),this._super=c,this._superApply=f,b}}()):void(i[b]=d)}),g.prototype=a.widget.extend(h,{widgetEventPrefix:f?h.widgetEventPrefix:b},i,{constructor:g,namespace:j,widgetName:b,widgetFullName:e}),f?(a.each(f._childConstructors,function(b,c){var d=c.prototype;a.widget(d.namespace+"."+d.widgetName,g,c._proto)}),delete f._childConstructors):c._childConstructors.push(g),a.widget.bridge(b,g)},a.widget.extend=function(c){for(var e,f,g=d.call(arguments,1),h=0,i=g.length;i>h;h++)for(e in g[h])f=g[h][e],g[h].hasOwnProperty(e)&&f!==b&&(a.isPlainObject(f)?c[e]=a.isPlainObject(c[e])?a.widget.extend({},c[e],f):a.widget.extend({},f):c[e]=f);return c},a.widget.bridge=function(c,e){var f=e.prototype.widgetFullName||c;a.fn[c]=function(g){var h="string"==typeof g,i=d.call(arguments,1),j=this;return g=!h&&i.length?a.widget.extend.apply(null,[g].concat(i)):g,h?this.each(function(){var d,e=a.data(this,f);return e?a.isFunction(e[g])&&"_"!==g.charAt(0)?(d=e[g].apply(e,i),d!==e&&d!==b?(j=d&&d.jquery?j.pushStack(d.get()):d,!1):void 0):a.error("no such method '"+g+"' for "+c+" widget instance"):a.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+g+"'")}):this.each(function(){var b=a.data(this,f);b?b.option(g||{})._init():a.data(this,f,new e(g,this))}),j}},a.Widget=function(){},a.Widget._childConstructors=[],a.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,d){d=a(d||this.defaultElement||this)[0],this.element=a(d),this.uuid=c++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=a.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=a(),this.hoverable=a(),this.focusable=a(),d!==this&&(a.data(d,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===d&&this.destroy()}}),this.document=a(d.style?d.ownerDocument:d.document||d),this.window=a(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:a.noop,_getCreateEventData:a.noop,_create:a.noop,_init:a.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:a.noop,widget:function(){return this.element},option:function(c,d){var e,f,g,h=c;if(0===arguments.length)return a.widget.extend({},this.options);if("string"==typeof c)if(h={},e=c.split("."),c=e.shift(),e.length){for(f=h[c]=a.widget.extend({},this.options[c]),g=0;g<e.length-1;g++)f[e[g]]=f[e[g]]||{},f=f[e[g]];if(c=e.pop(),d===b)return f[c]===b?null:f[c];f[c]=d}else{if(d===b)return this.options[c]===b?null:this.options[c];h[c]=d}return this._setOptions(h),this},_setOptions:function(a){var b;for(b in a)this._setOption(b,a[b]);return this},_setOption:function(a,b){return this.options[a]=b,"disabled"===a&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(b,c,d){var e,f=this;"boolean"!=typeof b&&(d=c,c=b,b=!1),d?(c=e=a(c),this.bindings=this.bindings.add(c)):(d=c,c=this.element,e=this.widget()),a.each(d,function(d,g){function h(){return b||f.options.disabled!==!0&&!a(this).hasClass("ui-state-disabled")?("string"==typeof g?f[g]:g).apply(f,arguments):void 0}"string"!=typeof g&&(h.guid=g.guid=g.guid||h.guid||a.guid++);var i=d.match(/^(\w+)\s*(.*)$/),j=i[1]+f.eventNamespace,k=i[2];k?e.delegate(k,j,h):c.bind(j,h)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(a,b){function c(){return("string"==typeof a?d[a]:a).apply(d,arguments)}var d=this;return setTimeout(c,b||0)},_hoverable:function(b){this.hoverable=this.hoverable.add(b),this._on(b,{mouseenter:function(b){a(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){a(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(b){this.focusable=this.focusable.add(b),this._on(b,{focusin:function(b){a(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){a(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(b,c,d){var e,f,g=this.options[b];if(d=d||{},c=a.Event(c),c.type=(b===this.widgetEventPrefix?b:this.widgetEventPrefix+b).toLowerCase(),c.target=this.element[0],f=c.originalEvent,f)for(e in f)e in c||(c[e]=f[e]);return this.element.trigger(c,d),!(a.isFunction(g)&&g.apply(this.element[0],[c].concat(d))===!1||c.isDefaultPrevented())}},a.each({show:"fadeIn",hide:"fadeOut"},function(b,c){a.Widget.prototype["_"+b]=function(d,e,f){"string"==typeof e&&(e={effect:e});var g,h=e?e===!0||"number"==typeof e?c:e.effect||c:b;e=e||{},"number"==typeof e&&(e={duration:e}),g=!a.isEmptyObject(e),e.complete=f,e.delay&&d.delay(e.delay),g&&a.effects&&a.effects.effect[h]?d[b](e):h!==b&&d[h]?d[h](e.duration,e.easing,f):d.queue(function(c){a(this)[b](),f&&f.call(d[0]),c()})}})}(jQuery),function(a,b){var c=!1;a(document).mouseup(function(){c=!1}),a.widget("ui.mouse",{version:"1.10.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var b=this;this.element.bind("mousedown."+this.widgetName,function(a){return b._mouseDown(a)}).bind("click."+this.widgetName,function(c){return!0===a.data(c.target,b.widgetName+".preventClickEvent")?(a.removeData(c.target,b.widgetName+".preventClickEvent"),c.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(b){if(!c){this._mouseStarted&&this._mouseUp(b),this._mouseDownEvent=b;var d=this,e=1===b.which,f="string"==typeof this.options.cancel&&b.target.nodeName?a(b.target).closest(this.options.cancel).length:!1;return e&&!f&&this._mouseCapture(b)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){d.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(b)!==!1,!this._mouseStarted)?(b.preventDefault(),!0):(!0===a.data(b.target,this.widgetName+".preventClickEvent")&&a.removeData(b.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(a){return d._mouseMove(a)},this._mouseUpDelegate=function(a){return d._mouseUp(a)},a(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),b.preventDefault(),c=!0,!0)):!0}},_mouseMove:function(b){return a.ui.ie&&(!document.documentMode||document.documentMode<9)&&!b.button?this._mouseUp(b):this._mouseStarted?(this._mouseDrag(b),b.preventDefault()):(this._mouseDistanceMet(b)&&this._mouseDelayMet(b)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,b)!==!1,this._mouseStarted?this._mouseDrag(b):this._mouseUp(b)),!this._mouseStarted)},_mouseUp:function(b){return a(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,b.target===this._mouseDownEvent.target&&a.data(b.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(b)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"1.10.0",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(b){var c=this.options;return this.helper||c.disabled||a(b.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(b),this.handle?(a(c.iframeFix===!0?"iframe":c.iframeFix).each(function(){a("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(a(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(b){var c=this.options;return this.helper=this._createHelper(b),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),a.ui.ddmanager&&(a.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},a.extend(this.offset,{click:{left:b.pageX-this.offset.left,top:b.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(b),this.originalPageX=b.pageX,this.originalPageY=b.pageY,c.cursorAt&&this._adjustOffsetFromHelper(c.cursorAt),c.containment&&this._setContainment(),this._trigger("start",b)===!1?(this._clear(),!1):(this._cacheHelperProportions(),a.ui.ddmanager&&!c.dropBehaviour&&a.ui.ddmanager.prepareOffsets(this,b),this._mouseDrag(b,!0),a.ui.ddmanager&&a.ui.ddmanager.dragStart(this,b),!0)},_mouseDrag:function(b,c){if(this.position=this._generatePosition(b),this.positionAbs=this._convertPositionTo("absolute"),!c){var d=this._uiHash();if(this._trigger("drag",b,d)===!1)return this._mouseUp({}),!1;this.position=d.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),a.ui.ddmanager&&a.ui.ddmanager.drag(this,b),!1},_mouseStop:function(b){var c,d=this,e=!1,f=!1;for(a.ui.ddmanager&&!this.options.dropBehaviour&&(f=a.ui.ddmanager.drop(this,b)),this.dropped&&(f=this.dropped,this.dropped=!1),c=this.element[0];c&&(c=c.parentNode);)c===document&&(e=!0);return e||"original"!==this.options.helper?("invalid"===this.options.revert&&!f||"valid"===this.options.revert&&f||this.options.revert===!0||a.isFunction(this.options.revert)&&this.options.revert.call(this.element,f)?a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){d._trigger("stop",b)!==!1&&d._clear()}):this._trigger("stop",b)!==!1&&this._clear(),!1):!1},_mouseUp:function(b){return a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),a.ui.ddmanager&&a.ui.ddmanager.dragStop(this,b),a.ui.mouse.prototype._mouseUp.call(this,b)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(b){var c=this.options.handle&&a(this.options.handle,this.element).length?!1:!0;return a(this.options.handle,this.element).find("*").addBack().each(function(){this===b.target&&(c=!0)}),c},_createHelper:function(b){var c=this.options,d=a.isFunction(c.helper)?a(c.helper.apply(this.element[0],[b])):"clone"===c.helper?this.element.clone().removeAttr("id"):this.element;return d.parents("body").length||d.appendTo("parent"===c.appendTo?this.element[0].parentNode:c.appendTo),d[0]!==this.element[0]&&!/(fixed|absolute)/.test(d.css("position"))&&d.css("position","absolute"),d},_adjustOffsetFromHelper:function(b){"string"==typeof b&&(b=b.split(" ")),a.isArray(b)&&(b={left:+b[0],top:+b[1]||0}),"left"in b&&(this.offset.click.left=b.left+this.margins.left),"right"in b&&(this.offset.click.left=this.helperProportions.width-b.right+this.margins.left),"top"in b&&(this.offset.click.top=b.top+this.margins.top),"bottom"in b&&(this.offset.click.top=this.helperProportions.height-b.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var b=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])&&(b.left+=this.scrollParent.scrollLeft(),b.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&a.ui.ie)&&(b={top:0,left:0}),{top:b.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:b.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var a=this.element.position();return{top:a.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:a.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var b,c,d,e=this.options;if("parent"===e.containment&&(e.containment=this.helper[0].parentNode),("document"===e.containment||"window"===e.containment)&&(this.containment=["document"===e.containment?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,"document"===e.containment?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,("document"===e.containment?0:a(window).scrollLeft())+a("document"===e.containment?document:window).width()-this.helperProportions.width-this.margins.left,("document"===e.containment?0:a(window).scrollTop())+(a("document"===e.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(e.containment)||e.containment.constructor===Array)e.containment.constructor===Array&&(this.containment=e.containment);else{if(c=a(e.containment),d=c[0],!d)return;b="hidden"!==a(d).css("overflow"),this.containment=[(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0),(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0),(b?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(b?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=c}},_convertPositionTo:function(b,c){c||(c=this.position);var d="absolute"===b?1:-1,e="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,f=/(html|body)/i.test(e[0].tagName);return{top:c.top+this.offset.relative.top*d+this.offset.parent.top*d-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():f?0:e.scrollTop())*d,left:c.left+this.offset.relative.left*d+this.offset.parent.left*d-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():f?0:e.scrollLeft())*d}},_generatePosition:function(b){var c,d,e,f,g=this.options,h="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&a.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,i=/(html|body)/i.test(h[0].tagName),j=b.pageX,k=b.pageY;return this.originalPosition&&(this.containment&&(this.relative_container?(d=this.relative_container.offset(),c=[this.containment[0]+d.left,this.containment[1]+d.top,this.containment[2]+d.left,this.containment[3]+d.top]):c=this.containment,b.pageX-this.offset.click.left<c[0]&&(j=c[0]+this.offset.click.left),b.pageY-this.offset.click.top<c[1]&&(k=c[1]+this.offset.click.top),b.pageX-this.offset.click.left>c[2]&&(j=c[2]+this.offset.click.left),b.pageY-this.offset.click.top>c[3]&&(k=c[3]+this.offset.click.top)),g.grid&&(e=g.grid[1]?this.originalPageY+Math.round((k-this.originalPageY)/g.grid[1])*g.grid[1]:this.originalPageY,k=c?e-this.offset.click.top>=c[1]||e-this.offset.click.top>c[3]?e:e-this.offset.click.top>=c[1]?e-g.grid[1]:e+g.grid[1]:e,f=g.grid[0]?this.originalPageX+Math.round((j-this.originalPageX)/g.grid[0])*g.grid[0]:this.originalPageX,j=c?f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2]?f:f-this.offset.click.left>=c[0]?f-g.grid[0]:f+g.grid[0]:f)),{top:k-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():i?0:h.scrollTop()),left:j-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():i?0:h.scrollLeft())}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(b,c,d){return d=d||this._uiHash(),a.ui.plugin.call(this,b,[c,d]),"drag"===b&&(this.positionAbs=this._convertPositionTo("absolute")),a.Widget.prototype._trigger.call(this,b,c,d)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),a.ui.plugin.add("draggable","connectToSortable",{start:function(b,c){var d=a(this).data("ui-draggable"),e=d.options,f=a.extend({},c,{item:d.element});d.sortables=[],a(e.connectToSortable).each(function(){var c=a.data(this,"ui-sortable");c&&!c.options.disabled&&(d.sortables.push({instance:c,shouldRevert:c.options.revert}),c.refreshPositions(),c._trigger("activate",b,f))})},stop:function(b,c){var d=a(this).data("ui-draggable"),e=a.extend({},c,{item:d.element});a.each(d.sortables,function(){this.instance.isOver?(this.instance.isOver=0,d.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=!0),this.instance._mouseStop(b),this.instance.options.helper=this.instance.options._helper,"original"===d.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",b,e))})},drag:function(b,c){var d=a(this).data("ui-draggable"),e=this;a.each(d.sortables,function(){var f=!1,g=this;this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(f=!0,a.each(d.sortables,function(){return this.instance.positionAbs=d.positionAbs,this.instance.helperProportions=d.helperProportions,this.instance.offset.click=d.offset.click,this!==g&&this.instance._intersectsWith(this.instance.containerCache)&&a.ui.contains(g.instance.element[0],this.instance.element[0])&&(f=!1),f})),f?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=a(e).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return c.helper[0]},b.target=this.instance.currentItem[0],this.instance._mouseCapture(b,!0),this.instance._mouseStart(b,!0,!0),this.instance.offset.click.top=d.offset.click.top,this.instance.offset.click.left=d.offset.click.left,this.instance.offset.parent.left-=d.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=d.offset.parent.top-this.instance.offset.parent.top,d._trigger("toSortable",b),d.dropped=this.instance.element,d.currentItem=d.element,this.instance.fromOutside=d),this.instance.currentItem&&this.instance._mouseDrag(b)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",b,this.instance._uiHash(this.instance)),this.instance._mouseStop(b,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),d._trigger("fromSortable",b),d.dropped=!1)})}}),a.ui.plugin.add("draggable","cursor",{start:function(){var b=a("body"),c=a(this).data("ui-draggable").options;b.css("cursor")&&(c._cursor=b.css("cursor")),b.css("cursor",c.cursor)},stop:function(){var b=a(this).data("ui-draggable").options;b._cursor&&a("body").css("cursor",b._cursor)}}),a.ui.plugin.add("draggable","opacity",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("opacity")&&(e._opacity=d.css("opacity")),
d.css("opacity",e.opacity)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._opacity&&a(c.helper).css("opacity",d._opacity)}}),a.ui.plugin.add("draggable","scroll",{start:function(){var b=a(this).data("ui-draggable");b.scrollParent[0]!==document&&"HTML"!==b.scrollParent[0].tagName&&(b.overflowOffset=b.scrollParent.offset())},drag:function(b){var c=a(this).data("ui-draggable"),d=c.options,e=!1;c.scrollParent[0]!==document&&"HTML"!==c.scrollParent[0].tagName?(d.axis&&"x"===d.axis||(c.overflowOffset.top+c.scrollParent[0].offsetHeight-b.pageY<d.scrollSensitivity?c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop+d.scrollSpeed:b.pageY-c.overflowOffset.top<d.scrollSensitivity&&(c.scrollParent[0].scrollTop=e=c.scrollParent[0].scrollTop-d.scrollSpeed)),d.axis&&"y"===d.axis||(c.overflowOffset.left+c.scrollParent[0].offsetWidth-b.pageX<d.scrollSensitivity?c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft+d.scrollSpeed:b.pageX-c.overflowOffset.left<d.scrollSensitivity&&(c.scrollParent[0].scrollLeft=e=c.scrollParent[0].scrollLeft-d.scrollSpeed))):(d.axis&&"x"===d.axis||(b.pageY-a(document).scrollTop()<d.scrollSensitivity?e=a(document).scrollTop(a(document).scrollTop()-d.scrollSpeed):a(window).height()-(b.pageY-a(document).scrollTop())<d.scrollSensitivity&&(e=a(document).scrollTop(a(document).scrollTop()+d.scrollSpeed))),d.axis&&"y"===d.axis||(b.pageX-a(document).scrollLeft()<d.scrollSensitivity?e=a(document).scrollLeft(a(document).scrollLeft()-d.scrollSpeed):a(window).width()-(b.pageX-a(document).scrollLeft())<d.scrollSensitivity&&(e=a(document).scrollLeft(a(document).scrollLeft()+d.scrollSpeed)))),e!==!1&&a.ui.ddmanager&&!d.dropBehaviour&&a.ui.ddmanager.prepareOffsets(c,b)}}),a.ui.plugin.add("draggable","snap",{start:function(){var b=a(this).data("ui-draggable"),c=b.options;b.snapElements=[],a(c.snap.constructor!==String?c.snap.items||":data(ui-draggable)":c.snap).each(function(){var c=a(this),d=c.offset();this!==b.element[0]&&b.snapElements.push({item:this,width:c.outerWidth(),height:c.outerHeight(),top:d.top,left:d.left})})},drag:function(b,c){var d,e,f,g,h,i,j,k,l,m,n=a(this).data("ui-draggable"),o=n.options,p=o.snapTolerance,q=c.offset.left,r=q+n.helperProportions.width,s=c.offset.top,t=s+n.helperProportions.height;for(l=n.snapElements.length-1;l>=0;l--)h=n.snapElements[l].left,i=h+n.snapElements[l].width,j=n.snapElements[l].top,k=j+n.snapElements[l].height,q>h-p&&i+p>q&&s>j-p&&k+p>s||q>h-p&&i+p>q&&t>j-p&&k+p>t||r>h-p&&i+p>r&&s>j-p&&k+p>s||r>h-p&&i+p>r&&t>j-p&&k+p>t?("inner"!==o.snapMode&&(d=Math.abs(j-t)<=p,e=Math.abs(k-s)<=p,f=Math.abs(h-r)<=p,g=Math.abs(i-q)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j-n.helperProportions.height,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h-n.helperProportions.width}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i}).left-n.margins.left)),m=d||e||f||g,"outer"!==o.snapMode&&(d=Math.abs(j-s)<=p,e=Math.abs(k-t)<=p,f=Math.abs(h-q)<=p,g=Math.abs(i-r)<=p,d&&(c.position.top=n._convertPositionTo("relative",{top:j,left:0}).top-n.margins.top),e&&(c.position.top=n._convertPositionTo("relative",{top:k-n.helperProportions.height,left:0}).top-n.margins.top),f&&(c.position.left=n._convertPositionTo("relative",{top:0,left:h}).left-n.margins.left),g&&(c.position.left=n._convertPositionTo("relative",{top:0,left:i-n.helperProportions.width}).left-n.margins.left)),!n.snapElements[l].snapping&&(d||e||f||g||m)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=d||e||f||g||m):(n.snapElements[l].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,b,a.extend(n._uiHash(),{snapItem:n.snapElements[l].item})),n.snapElements[l].snapping=!1)}}),a.ui.plugin.add("draggable","stack",{start:function(){var b,c=a(this).data("ui-draggable").options,d=a.makeArray(a(c.stack)).sort(function(b,c){return(parseInt(a(b).css("zIndex"),10)||0)-(parseInt(a(c).css("zIndex"),10)||0)});d.length&&(b=parseInt(d[0].style.zIndex,10)||0,a(d).each(function(a){this.style.zIndex=b+a}),this[0].style.zIndex=b+d.length)}}),a.ui.plugin.add("draggable","zIndex",{start:function(b,c){var d=a(c.helper),e=a(this).data("ui-draggable").options;d.css("zIndex")&&(e._zIndex=d.css("zIndex")),d.css("zIndex",e.zIndex)},stop:function(b,c){var d=a(this).data("ui-draggable").options;d._zIndex&&a(c.helper).css("zIndex",d._zIndex)}})}(jQuery),function(a,b){function c(a,b,c){return a>b&&b+c>a}a.widget("ui.droppable",{version:"1.10.0",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var b=this.options,c=b.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(c)?c:function(a){return a.is(c)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[b.scope]=a.ui.ddmanager.droppables[b.scope]||[],a.ui.ddmanager.droppables[b.scope].push(this),b.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var b=0,c=a.ui.ddmanager.droppables[this.options.scope];b<c.length;b++)c[b]===this&&c.splice(b,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(b,c){"accept"===b&&(this.accept=a.isFunction(c)?c:function(a){return a.is(c)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),c&&this._trigger("activate",b,this.ui(c))},_deactivate:function(b){var c=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),c&&this._trigger("deactivate",b,this.ui(c))},_over:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",b,this.ui(c)))},_out:function(b){var c=a.ui.ddmanager.current;c&&(c.currentItem||c.element)[0]!==this.element[0]&&this.accept.call(this.element[0],c.currentItem||c.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",b,this.ui(c)))},_drop:function(b,c){var d=c||a.ui.ddmanager.current,e=!1;return d&&(d.currentItem||d.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var b=a.data(this,"ui-droppable");return b.options.greedy&&!b.options.disabled&&b.options.scope===d.options.scope&&b.accept.call(b.element[0],d.currentItem||d.element)&&a.ui.intersect(d,a.extend(b,{offset:b.element.offset()}),b.options.tolerance)?(e=!0,!1):void 0}),e?!1:this.accept.call(this.element[0],d.currentItem||d.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",b,this.ui(d)),this.element):!1):!1},ui:function(a){return{draggable:a.currentItem||a.element,helper:a.helper,position:a.position,offset:a.positionAbs}}}),a.ui.intersect=function(a,b,d){if(!b.offset)return!1;var e,f,g=(a.positionAbs||a.position.absolute).left,h=g+a.helperProportions.width,i=(a.positionAbs||a.position.absolute).top,j=i+a.helperProportions.height,k=b.offset.left,l=k+b.proportions.width,m=b.offset.top,n=m+b.proportions.height;switch(d){case"fit":return g>=k&&l>=h&&i>=m&&n>=j;case"intersect":return k<g+a.helperProportions.width/2&&h-a.helperProportions.width/2<l&&m<i+a.helperProportions.height/2&&j-a.helperProportions.height/2<n;case"pointer":return e=(a.positionAbs||a.position.absolute).left+(a.clickOffset||a.offset.click).left,f=(a.positionAbs||a.position.absolute).top+(a.clickOffset||a.offset.click).top,c(f,m,b.proportions.height)&&c(e,k,b.proportions.width);case"touch":return(i>=m&&n>=i||j>=m&&n>=j||m>i&&j>n)&&(g>=k&&l>=g||h>=k&&l>=h||k>g&&h>l);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(b,c){var d,e,f=a.ui.ddmanager.droppables[b.options.scope]||[],g=c?c.type:null,h=(b.currentItem||b.element).find(":data(ui-droppable)").addBack();a:for(d=0;d<f.length;d++)if(!(f[d].options.disabled||b&&!f[d].accept.call(f[d].element[0],b.currentItem||b.element))){for(e=0;e<h.length;e++)if(h[e]===f[d].element[0]){f[d].proportions.height=0;continue a}f[d].visible="none"!==f[d].element.css("display"),f[d].visible&&("mousedown"===g&&f[d]._activate.call(f[d],c),f[d].offset=f[d].element.offset(),f[d].proportions={width:f[d].element[0].offsetWidth,height:f[d].element[0].offsetHeight})}},drop:function(b,c){var d=!1;return a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(b,this,this.options.tolerance)&&(d=this._drop.call(this,c)||d),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],b.currentItem||b.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,c)))}),d},dragStart:function(b,c){b.element.parentsUntil("body").bind("scroll.droppable",function(){b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)})},drag:function(b,c){b.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(b,c),a.each(a.ui.ddmanager.droppables[b.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var d,e,f,g=a.ui.intersect(b,this,this.options.tolerance),h=!g&&this.isover?"isout":g&&!this.isover?"isover":null;h&&(this.options.greedy&&(e=this.options.scope,f=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===e}),f.length&&(d=a.data(f[0],"ui-droppable"),d.greedyChild="isover"===h)),d&&"isover"===h&&(d.isover=!1,d.isout=!0,d._out.call(d,c)),this[h]=!0,this["isout"===h?"isover":"isout"]=!1,this["isover"===h?"_over":"_out"].call(this,c),d&&"isout"===h&&(d.isout=!1,d.isover=!0,d._over.call(d,c)))}})},dragStop:function(b,c){b.element.parentsUntil("body").unbind("scroll.droppable"),b.options.refreshPositions||a.ui.ddmanager.prepareOffsets(b,c)}}}(jQuery);var delayExecution=function(){var a=0;return function(b,c){clearTimeout(a),a=setTimeout(b,c)}}();$.fn.replaceClass=function(a,b){return this.each(function(){this.className=this.className.replace(a,b)})},App.on("load",function(){var a=this.$;this._;api.vitrineSize=a("#vitrine .single-product img.photo").attr("width")}),($(".carousel").length||$(".use-carousel").length)&&injs.load(["vendor/carouFredSel/jquery.carouFredSel"],{test:$.fn.carouFredSel},function(){$.fn.carousel=function(a){"use strict";var b={vertical:!1,align:!1,pagination:!1,prev_next:!1};return a&&$.extend(b,a),this.each(function(){var a=$(this),c=b.vertical?"up":"left",d=b.vertical?"down":"right",e=b.vertical?"top":"center";e=b.align||e,a.find(">.carousel-list").length>0&&(b.prev_next===!0?a.append('<button type="button" class="spt-b-carousel-'+c+'">'+c+'</button><button type="button" class="spt-b-carousel-'+d+'">'+d+"</button>"):"",a.find(">.carousel-list").carouFredSel({circular:!1,prev:b.prev_next?a.parent().find(".spt-b-carousel-"+c):!1,next:b.prev_next?a.parent().find(".spt-b-carousel-"+d):!1,pagination:b.pagination?a.find(".carousel-pagination"):!1,infinite:!1,auto:!1,align:e,direction:c,height:b.vertical?"100%":"auto",width:b.vertical?"auto":"100%",scroll:{onAfter:function(){$.fn.jail&&$("img.lazy[data-src]").jail()}}}))})},$(".carousel.pagination").carousel({pagination:!0}),$('.carousel:not(".carousel-vertical")').carousel(),$(".carousel.carousel-vertical").carousel({vertical:!0,prev_next:!0})}),$("[data-slide-toggle]").length&&injs.load(["vendor/custom-slide-toggle/custom-slide-toggle"],function(a){}),$(".mask-input").length&&injs.load(["vendor/maskedinput/jquery.maskedinput.min"],function(a){$(".mask-input").each(function(){"cep"==$(this).data("mask")&&$(this).mask("99999-999",{placeholder:" "})})});var btn=$(".btn-sh-filter");btn.length&&btn.parent().on("click",function(){$(this).find(".btn-sh-filter").toggleClass("checked"),$(this).next().toggle()}),$("img.lazy").length&&(injs.load(["vendor/jail/jail.min"],function(){$("img.lazy[data-src]").jail()}),$(document).on("vitrineAjax",function(){$("img.lazy[data-src]").jail()})),$(".image-control").length&&$(document).on("click",".image-control .do-change-image",function(){if($(".image-control").length>0){var a=$(this).data("size");$(".single-product").replaceClass(/vitrine[0-9]*/,"vitrine"+a),api.vitrineSize=a}$(".image-control .selected").removeClass("selected"),$(this).addClass("selected")}),$(".mp-shipping").length&&injs.load(["vendor/mustache/mustache"],{test:window.Mustache},function(){$('[name="postalCode"]').on("keypress",function(a){a.preventDefault(),13==a.which&&$(".spt-b-calc-cep").click()}),$(".spt-b-calc-cep").on("click",function(a){a.preventDefault();var b=($(this),$("[name=postalCode]").val().replace("-","").replace(".","")),c=$(".freight-result"),d=document.getElementById("freight-template").innerHTML;c.html('<div id="overlay" style="width:100%;height:100%;position:absolute;left:0;top:0;filter:alpha(opacity=90); z-index: 100;"></div><span class="customLoadAjax"></span>');var e=api.buyAction.get_selected_sku()||$("[name=codItemFusionModa]").val(),f=api.buyAction.get_store_id(),g=api.buyAction.get_price();api.calcFreight(e,b,f,g).done(function(a){newAPICep?0==a.freightOptions.length||0==a.freightOptions[0].totalWeekdays?c.html(""):formatCepAllOptions(a,function(a,b){c.html(Mustache.render(b,a))}):(a.freightDay+=a.freightDay>1?" dias úteis":" dia útil",a.postalCode=b,a.freightValue="0,00"==a.freightValue?"Grátis":"R$ "+a.freightValue,a.showResult="blocked"!=a.riskAreaDelivery&&"CEP_INEXISTENTE"!=a.errorMessage,a.errorMessage=api.lightbox("#find-cep","inline"),$("#riskarea-"+a.riskAreaDelivery).length?api.lightbox($("#riskarea-"+a.riskAreaDelivery),"inline"):"",c.html(Mustache.render(d,a))),$(".freight-result").on("click",".btn-action",function(a){a.preventDefault(),$(this).find(".button-prime-up").toggleClass("button-prime-down");var b=$(this).parents("tr");b.toggleClass("open");var c=b.next();c.hasAttr("hidden")?c.removeAttr("hidden"):c.attr("hidden","hidden")}),$(".freight-result").removeClass("has-divisionbottom"),$(".pesquisar-cep").show()}).fail(function(){api.lightbox("#find-cep","inline"),$(".customLoadAjax").remove()}),$(document).trigger("calc_cep")})}),$("#find-cep").length&&($("#find-cep form").on("submit",function(a){a.preventDefault();var b=panelDomain+"/cep/",c=$(this).serialize(),d=$(this);d.find(".customLoadAjax").stop().fadeIn(),$(".address-not-found").hide(),$.ajax({url:b,data:c}).done(function(a){d.find(".customLoadAjax").fadeOut();var b=document.getElementById("find-cep-result-template").innerHTML,c={data:a};$("#lb-result-cep").html(Mustache.render(b,c)),api.lightbox($("#lb-result-cep"),"inline","500","500")}).fail(function(){d.find(".customLoadAjax").stop().fadeOut(),$(".address-not-found").stop().fadeIn(),d[0].reset(),setTimeout(function(){$(".address-not-found").stop().fadeOut()},5e3)})}),$(document).on("click",".find-cep-result tr",function(){$(".input-cep").val($(this).attr("data-cep")).focus(),$.magnificPopup.close()})),api.verifyPrimeUser=function(){var a=$.cookie("customer.id")||"";return $.get("/api/v1/customer-prime/"+a)},api.getDataPrimeUser=function(){return $.get("/api/v1/prime/standard")},api.calcFreight=function(a,b,c,d){if(void 0==a||void 0==b)return"idproduct e cep sao obrigatorios";var e={sku:a,quantity:1,promotionedPrice:d};return c&&(e.storeId=c),$.get("/api/v1/freight",{cep:b,product:JSON.stringify(e),contract:"all"})},api.getParamUrl=function(a,b){var c;return-1!==a.indexOf(b+"=")&&(c=a.substring(a.indexOf(b+"=")+(b.length+1)),-1!==c.indexOf("&")&&(c=c.substring(0,c.indexOf("&")))),c||null},api.is_page_partner=function(){return $(".offers-product").length>0}(),api.setUrlParam=function(a,b,c){var d=document.createElement("a");d.setAttribute("href",a),d.innerHTML=".";for(var e=d.search.replace("?","").split("&"),f={},g=0;g<e.length;g++){var h=e[g];h=h.split("="),""!=h[0]&&(f[h[0]]=h[1])}return f[b]=c,[d.protocol,"//",d.host,d.pathname].join("")+"?"+$.param(f)},($("[data-modal]").length||$("[data-enable-modal]").length)&&injs.load(["vendor/magnific-popup/magnific-popup"],function(a){api.lightbox=function(a,b,c,d,e){var f={open_lightbox:function(a,b,c,d){b=b||"iframe",e=e?e:{};var f=$.extend(!0,{items:{src:a,type:b},closeOnBgClick:!0,callbacks:{open:function(){var a="iframe"==b?400:"auto";$(".mfp-content").css({height:d?d+"px":a,width:c?c+"px":a})}}},e);$.magnificPopup.open(f,0)}};a?f.open_lightbox(a,b,c,d):"";var g={addEventsToElements:function(){$(document).on("click","[data-modal]",function(){var a,b,c=$(this);return a=c.attr("href")||c.attr("data-href")?c.attr("data-modal-type")||"iframe":c.attr("data-modal-type")||"inline",b=c.attr("data-modal-maxwidth"),d=c.attr("data-modal-maxheight"),api.lightbox(c.attr("href"),a,b,d),!1})}};return g},api.lightbox().addEventsToElements()}),Number.prototype.formatMoney=function(a,b,c,d){a=isNaN(a=Math.abs(a))?2:a,b=void 0!==b?b:"R$ ",c=c||".",d=d||",";var e=this,f=0>e?"-":"",g=parseInt(e=Math.abs(+e||0).toFixed(a),10)+"",h=(h=g.length)>3?h%3:0;return b+f+(h?g.substr(0,h)+c:"")+g.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+c)+(a?d+Math.abs(e-g).toFixed(a).slice(2):"")},$(".filter-horizontal .btn-filtrar").on("click.filtrar",function(){updateUrlFilter()}),$(".filterStore .btn-filtrar").on("click.filtrar",function(){updateFiltersSidebar()}),$(".custom-check").length&&($(document).on("click",".custom-check",function(){$(this).find("input").is(":checked")?$(this).addClass("checked"):$(this).removeClass("checked")}),$(".custom-check").each(function(){$(this).find("input").is(":checked")?$(this).addClass("checked"):$(this).removeClass("checked")})),$("label .custom-input-radio").on("click",function(){$t=$(this);var a=$("label .custom-input-radio [name='"+$t.find("input").attr("name")+"']");a.parent().removeClass("selected"),a.parent().parent().removeClass("selected"),$t.addClass("selected"),$t.parent().addClass("selected")}),$(".warranty-form").length&&injs.load(["vendor/cookie/jquery.cookie"],function(){$(".warranty-form").on("submit",function(a){a.preventDefault();var b=location.href,c=b.substring(b.lastIndexOf("?")+1),d=$(this).find("input[name*='codItemG'][value!=' ']:checked").map(function(){return" "!=$(this).val()?"codItemGuaranteeFusion="+$(this).val():!1}).get(),e=checkoutUrl;if("true"==api.getParamUrl(location.href,"oneclick"))e=$.cookie("hasOneClick")&&"true"==$.cookie("hasOneClick")?e+"oneClickBuy.xhtml?"+c+"&"+d:panelDomain+"/CustomerWeb/pages/LoginOneClick?rt="+encodeURIComponent(e+"oneClickBuy.xhtml?"+c+"&"+d);else{var f=$(this).find("input[name=storeId]").val();e+="?"+c+"&"+d.join("&"),f&&(e+="&storeId="+f)}window.location=e})}),$(".warranty-form").length&&$(".warranty-form").find("input[name*='codItemG']").change(function(){var a=$(".warranty-form").find("input[name*='codItemG'][value!=' ']:checked"),b=a.length,c=parseFloat($(".warranty-total").attr("data-initial-value"),10);a.each(function(){var a=parseFloat($(this).attr("data-value"),10);c+=a});var c=c,d=parseInt($(".warranty-total").attr("data-max-parcel"),10);parseInt($(".warranty-total").attr("data-max-parcel"))>1&&$(".warranty-resume .parcel-value").html((c/d).formatMoney()),$(".warranty-resume .warranty-price").html(c.formatMoney()),b?$(".warranty-conditional").show():$(".warranty-conditional").hide()});var hq={create:function(a,b){var c=document.createElement(a);return $.each(b,function(a,b){c.setAttribute(a,b)}),c},clearPrice:function(a){return parseFloat(a.toString().replace(/\s|[a-z]|\$|,|\.|\:/gi,""))},formatPrice:function(a,b){return a=a.toString(),a=a.substring(0,a.length-2)+","+a.substring(a.length-2),3===a.length?a="0"+a:a.length>6&&(a=a.substring(0,a.length-6)+"."+a.substring(a.length-6)),b?b+" "+a:a}},layerCart={cart:null,products:[],init:function(){var a=this.getCart(!0);a.header.length?this.load():setTimeout(function(){layerCart.init(!0)},1500)},getItem:function(b){for(a=0;a>this.products;a++)if(this.products[a].id===b)return this.products[a];return!1},getItemSKU:function(b){for(a=0;a>this.products;a++)if(this.products[a].sku===b)return this.products[a];return!1},getCart:function(a){if(!this.cart||a){var b=$("#header .h-cart");if(0===$("#iframecart").length){var c=hq.create("iframe",{id:"iframecart",height:"1",width:"1",style:"display:none;"}),d=document.getElementsByTagName("div")[0];d.parentNode.insertBefore(c,d)}this.cart={empty:b.find(".cart-empty"),header:$("#header .h-cart"),hasProduct:b.find(".cart-products-list"),modeltr:b.find(".cart-products-list").html(),counters:b.find(".cart-itens"),counters_num:b.find(".ci-titens"),iframe:$("#iframecart")}}return this.cart},prepareProduct:function(a){return a},load:function(){var a=this;injs.load(["vendor/cookie/jquery.cookie"],function(){var b,c=$.cookie("ShoppingCartInfo")||!1,d=0;if(c){for(c=jQuery.parseJSON(c),c=c.products,b=c.length;b>d;d++)a.getItem(c[d].id)||a.products.push(a.prepareProduct(c[d]));a.render()}$(".h-cart").hover(function(){0===$(".dragproducts-disabled.empty").length&&$(a).addClass("openCart")},function(){0===$(".dragproducts-disabled.empty").length&&$(a).removeClass("openCart")})})},empty:function(){this.products=[],this.render()},insert:function(a){if(!this.getItemSKU(a.sku)){var b=this.getCart(),c=checkoutDomain+"/checkout/?codItemFusion="+a.sku+"&WT.mc_ev=click&WT.mc_id=arraste_home";a.storeId&&(c=c+"&storeId="+a.storeId),b.iframe[0].src=c,this.products.push(this.prepareProduct(a)),this.render()}},render:function(){var a=this.products,b=this.products.length,c=document.getElementById("template-totalProducts").innerHTML,d={numberProducts:b,numberProductsText:1==b?"item":"itens"},e={products:a,showLinkCart:b>3,numberProducts:b};injs.load(["vendor/mustache/mustache"],{test:window.Mustache},function(){if(jQuery(".ci-total").html(Mustache.render(c,d)),b>0){var a=document.getElementById("template-cart-products").innerHTML;jQuery(".cart-not-empty").html(Mustache.render(a,e)),jQuery(".cart-itens").addClass("not-empty")}})}},dragproducts={init:function(){0===$("#header").length?setTimeout(function(){dragproducts.init(!0)},1500):api.is_moda||0!=$(".disable-drag").length?$(".h-cart").addClass("dragproducts-disabled"):(this.load(),$(".h-cart").removeClass("dragproducts-disabled"))},load:function(){var a,b=document,c=b.createElement("div"),d=$("#header .h-cart");c.setAttribute("id","dragP"),null===b.getElementById("dragP")&&b.getElementsByTagName("body")[0].appendChild(c),$(".single-product").filter(":not(.unavail)").filter(":not(.ui-draggable)").draggable({helper:"clone",revert:"invalid",handle:".productImg",zIndex:9999,appendTo:"div#dragP",cursor:"move",containment:".home-page",cursorAt:{top:50,left:50},start:function(){return $(this).hasClass("ui-dragged")?!1:(d.addClass("openCart"),void clearTimeout(a))},stop:function(){a=setTimeout(function(){d.removeClass("openCart")},1e3)}}).find(".url:first").append('<span class="dragPIcon"></span>'),$(".cart-itens").droppable({over:function(a,b){b.helper.addClass("productAccept")},out:function(a,b){b.helper.removeClass("productAccept")},drop:function(a,b){a=b.draggable,item={name:a.find(".prodTitle").text(),image:a.find("img.photo").attr("src"),url:a.find("a.url").attr("href"),price:a.find(".price del").text().replace("R$",""),sku:a.find("input[name=codItemFusion]").val(),qty:1,id:a.find("input[name=codProdFusion]").val(),discountedPrice:a.find(".sale strong").text().replace("R$",""),installment:a.find(".interest").text(),storeId:a.find("input[name=storeId]").val()},a.addClass("ui-dragged"),layerCart.insert(item),$("#dragP .single-product").remove()}}),injs.load(["vendor/cookie/jquery.cookie"],function(){if($.cookie("ShoppingCartInfo")){draggedProducts=jQuery.parseJSON($.cookie("ShoppingCartInfo")).products;for(var a=0;a<draggedProducts.length;a++)$(".productId[value="+draggedProducts[a].id+"]").closest(".ui-draggable").addClass("ui-dragged")}})}};$(document).on("close-drop",function(a){$(".hp-overlay").removeClass("hp-overlay")}),$(document).on("open-drop",function(a){var a=a.target,b=$(a).data("target"),c=($(a).data("event"),$(b));c.addClass("hp-overlay")}),function(a){jQuery.fn.dropdownList=function(b){var c={multSelect:!1},d=function(a){var b=a.find(".checked").size(),c=a.find("li:eq(0)").text().trim(),d=c+(0==b?"":": ");switch(c){case"Cor":d+=b>1?b+" cores selecionadas":a.find(".checked").parent().find(".title").text();break;case"Tamanho":d+=b>1?b+" tamanhos selecionados":a.find(".checked").parent().find(".title").text();break;case"Marca":d+=b>1?b+" marcas selecionadas":a.find(".checked").parent().find(".title").text()}a.parent().find(".handler").text(d)};return this.each(function(){var e=a.extend(!0,{},c,b);if(!a(this).hasClass("dd-list")){var f=a(this).addClass("dd-list"),g=f.find(".selected").text()||f.find("li:eq(0)").text(),h=f.siblings(".ico");f.find("li").addClass("li").hide(),f.parent().prepend("<span class='handler'>"+g+"</span>");var i=f.parent().find(".handler");i.click(function(b){return f.hasClass("active")?(i.removeClass("open"),i.closest(".dropdown-box").removeClass("open"),a(".dd-list").removeClass("active").find("li").hide(),a(f).trigger("close-drop"),!1):(a(".handler").each(function(){a(this).removeClass("open"),a(this).closest(".dropdown-box").removeClass("open"),a(this).parent().find(".dd-list").removeClass("active").find("li").hide(),a(f).trigger("close-drop")}),i.closest(".dropdown-box").toggleClass("open"),i.toggleClass("open"),f.toggleClass("active"),f.find("li").toggle(),a(f).trigger("open-drop"),e.multSelect||a("html").off("click.OutFilter").on("click.OutFilter",function(){a(".handler").each(function(){a(this).removeClass("open"),a(this).parent().find(".dd-list").removeClass("active").find("li").hide(),a(f).trigger("close-drop")})}),void b.stopPropagation())}),a.merge(h,f,i).click(function(b){a(".handler").each(function(){a(this).removeClass("open"),a(this).parent().find(".dd-list").removeClass("active").find("li").hide()}),i.closest(".dropdown-box").toggleClass("open"),i.toggleClass("open"),f.toggleClass("active"),f.find("li").toggle(),a(f).trigger("open-drop"),a("html").off("click.OutFilter").on("click.OutFilter",function(){a(".handler").each(function(){a(this).removeClass("open"),a(this).parent().find(".dd-list").removeClass("active").find("li").hide(),a(f).trigger("close-drop")})})}),f.find("a").each(function(b,c){var f=a(this);if(e.multSelect){var g=f.data("checked")?"checked":"";f.prepend('<span class="spt-i-custom-check '+g+'"></span>'),d(f.parents(".dropdown-toggle.dd-list"))}f.off("click.liOutFilter").on("click.liOutFilter",function(b){setTimeout(function(){a("html").click()},10)})}),e.multSelect?f.find("li:not(.handler)").click(function(b){a(this).find(".spt-i-custom-check").toggleClass("checked")}):f.find("li:not(.handler)").click(function(b){f.find("li").removeClass("selected"),i.text(a(this).addClass("selected").text())})}a(this).closest(".dropdown-box").css("opacity",1),a(this).closest("nav").css("opacity",1)})}}(jQuery),$(".dropdown-toggle").not(".filters .dropdown-toggle").dropdownList(),$(".filters .dropdown-toggle").dropdownList({multSelect:!0}),$(".ft-address-lnk").length>0&&$(".ft-slogan").length>0&&$(".ft-address-lnk").appendTo(".ft-slogan"),$(".sitemap-link").length>0&&$(".ft-slogan").length>0&&$(".sitemap-link").appendTo(".ft-slogan"),$(".search-words").length&&injs.load(["vendor/highlight/highlight"],function(a){$(".search-words form").on("submit",function(a){a.preventDefault(),$(".infoProdBox, .area-tecnica").unhighlight().highlight($("[name=search-word]").val()),$(".product-features .highlight:eq(0)").length>0&&$("html, body").animate({scrollTop:$(".product-features .highlight:eq(0)").offset().top-10},1e3)})}),$("#busca_avancada .clean-filter").click(function(){return $("#busca_avancada")[0].reset(),$("[data-value='Selecione']").click(),!1}),$(".sz").length&&injs.load(["vendor/superzoom/superzoom"],function(a){var b=function(){$sz=$(".sz"),"#"!==$sz.attr("data-zoom-image")&&($sz.elevateZoom({zoomType:"window",cursor:"crosshair",zoomWindowWidth:507,zoomWindowHeight:472,borderSize:0,borderColour:"#000",lensColour:"#000",lensOpacity:"0.5",lensBorder:10,lensFadeIn:100,lensFadeOut:100,zoomWindowFadeIn:100,zoomWindowOffetx:35,zoomWindowOffety:-8,zoomWindowFadeOut:100}),$(".mp-picture").append("<span class='spt-i-sz'></span>"))},c=function(){$(".sz").removeData(),$(".spt-i-sz").remove(),$(".zoomContainer").remove()};b(),window.buildSz=b,window.removeSz=c;var d=$(".product-video iframe").attr("src")||"";d+=-1==d.indexOf("?")?"?enablejsapi=1":"&enablejsapi=1",$(".product-video iframe").attr("src",d),$(".main-carousel-product-page").on("click",".carousel-item",function(){$(".main-carousel-product-page .active").removeClass("active"),$(this).addClass("active")}),$(".main-carousel-product-page").on("mouseenter",".ip-photo",function(){var a=$(this),d=$(".sz");$(".mp-picture figure").show(),$(".product-video").hide(),d.attr("data-zoom-image",a.attr("data-szimg")||"#"),d.attr("src",a.attr("src"));var e=a.attr("src"),f=a.attr("data-szimg"),g=$(".sz").data("elevateZoom");$(".product-video").find("iframe").length?$(".product-video").find("iframe").get(0).contentWindow.postMessage('{"event":"command","func":"stopVideo","args":""}',"*"):"",e&&f&&"#"!==f?g?g.swaptheimage(e,f):b():g?c():""}),$(".main-carousel-product-page").on("mouseenter",".carousel-item-video, .ip-video",function(){c(),$(".mp-picture figure").hide(),$(".product-video").show(),$(".product-video").find("iframe").length?$(".product-video").find("iframe").get(0).contentWindow.postMessage('{"event":"command","func":"playVideo","args":""}',"*"):""})}),$(".content-header").length&&injs.load(["vendor/scroll-point/scroll-point"],function(){$(".content-header").scrollPoints({init:function(a){$("body").append('<div class="hp-back-top">Voltar ao topo</div>'),$("body").on("click",".hp-back-top",function(){$("body,html").animate({scrollTop:0},500)})},executeDown:function(a){$(".hp-back-top").fadeIn()},executeUp:function(a){$(".hp-back-top").fadeOut()},executeDestroy:function(a){}})}),$(".main-product, .hd-float #header").length&&injs.load(["vendor/scroll-point/scroll-point"],function(){$(".main-product").scrollPoints({init:function(a){a.find(".buy-float-wp").append('<div class="action-buy-float"><button type="button" class="spt-b-close-box">×</button><div class="back-top"><span class="spt-b-arrow-up"></span>voltar ao topo</div></div>'),$(".action-buy-float",a).hide(),a.on("click",".back-top",function(){$("body,html").animate({scrollTop:0},500)})},executeDown:function(a){$(".unavailable").length>0||(a.find(".buy-form").addClass("buy-float"),$(".action-buy-float",a).show())},executeUp:function(a){a.find(".buy-form").removeClass("buy-float"),$(".action-buy-float",a).hide()},executeDestroy:function(a){a.on("click",".spt-b-close-box",function(){$(a).find(".buy-form").toggleClass("opened")})}});var a=$(".home-page").length>0?$(".banner-principal"):$(".hd-float #header");a.scrollPoints({init:function(a){$("#header").find(".content-header").prepend("<span class='open-close'></span>"),$("#header .open-close").click(function(){$("#header").toggleClass("hd-small")})},executeDown:function(a){$("#header").hasClass("header-flutuante")||($("body").css({paddingTop:$("#header").height()+10}),$("#header").addClass("header-flutuante").hide().fadeIn())},executeUp:function(a){$("#header").removeClass("header-flutuante"),$("body").removeAttr("style")}})}),$(".main-product").length&&(api.buyAction=function(){var a={is_multiple_sku:function(){return this.skuArea().length>0},get_selected_sku:function(){return this.get_input_select_sku().val()},get_selected_sku_label:function(){
return this.get_input_select_sku().find("option").length?this.get_input_select_sku().find("option:selected").data("value-name"):this.get_input_select_sku().data("value-name")},get_store_id:function(){return this.boxArea().find("[name=storeId]").val()},get_input_select_sku:function(){return this.boxArea().find("input[type=radio][name=codItemFusion]").length?this.boxArea().find("[name=codItemFusion]:checked"):this.boxArea().find("select[name='codItemFusion']").length?this.boxArea().find("select[name='codItemFusion'] option:selected"):this.boxArea().find("[name=codItemFusion]")},is_pickup_store:function(){return"true"==this.get_input_select_sku().attr("data-pickupstore")},send_buyform:function(){buyform.unbind().submit()},skuArea:function(){return this.boxArea().find(".mb-sku-choose")},boxArea:function(){return $(".mp-details")},get_product_id:function(){return this.boxArea().find("[name='codProdFusion']").val()},has_extended_warranty:function(){return"true"==this.boxArea().find(".buy-form").attr("data-extended_warranty")},get_price:function(){return this.boxArea().find(".mp-pb-to.mp-price").attr("data-partner-value")},get_department_id:function(){return this.boxArea().find(".buy-form").attr("data-department-id")},get_line_id:function(){return this.boxArea().find(".buy-form").attr("data-line-id")},get_subline_id:function(){return this.boxArea().find(".buy-form").attr("data-subline-id")}},b={addEventToBuyForm:function(){injs.load(["vendor/mustache/mustache"],{test:window.Mustache},function(){$(".main-product .buy-form").submit(function(a){if(buyform=$(this),!api.buyAction.is_multiple_sku()&&!api.buyAction.is_pickup_store()||api.is_moda)return api.buyAction.send_buyform();if(a.preventDefault(),api.buyAction.is_pickup_store())api.lightbox($("#lightboxPickUp"),"inline",500);else{var b={sku:api.buyAction.get_selected_sku_label()};mustacheTemplate=document.getElementById("modal-sku-template").innerHTML,$("#modal-confirm-sku").html(Mustache.render(mustacheTemplate,b)),api.lightbox($("#modal-confirm-sku"),"inline")}})})},oneClick:function(){injs.load(["vendor/mustache/mustache"],function(){injs.load(["vendor/cookie/jquery.cookie"],function(){$(".btn-one-click").on("click",function(a){var b;if(b=api.buyAction.has_extended_warranty()?$(this).closest("form").attr("action")+"?codItemFusion="+api.buyAction.get_selected_sku()+"&oneclick=true&loja="+$(this).data("loja"):$.cookie("hasOneClick")&&"true"==$.cookie("hasOneClick")?panelDomain+"/checkout/oneClickBuy.xhtml?codItemFusion="+api.buyAction.get_selected_sku():panelDomain+"/CustomerWeb/pages/LoginOneClick?rt="+panelDomain+"/checkout/oneClickBuy.xhtml?codItemFusion="+api.buyAction.get_selected_sku(),$(this).closest("form").find("[name=storeId]").length>0&&(b+="&storeId="+$(this).closest("form").find("[name=storeId]").val()),$(".btn-one-click a").attr("href",b),!api.buyAction.is_multiple_sku())return!0;a.preventDefault();var c={sku:api.buyAction.get_selected_sku_label(),isOneClick:!0,urlOneClick:b};mustacheTemplate=document.getElementById("modal-sku-template").innerHTML,$("#modal-confirm-sku").html(Mustache.render(mustacheTemplate,c)),api.lightbox($("#modal-confirm-sku"),"inline")}),$(".a-wedding-list").on("click",function(a){var b=panelDomain+"/lista-de-casamento/rest/AddGift/";if($(".a-wedding-list a").attr("href",b),!api.buyAction.is_multiple_sku())return location.href=b+"?sku="+api.buyAction.get_selected_sku(),!1;a.preventDefault();var c={sku:api.buyAction.get_selected_sku_label(),isOneClick:!0,urlWedding:b,nameProduct:api.buyAction.boxArea().find("h1[itemprop=name]").text(),codProdFusion:api.buyAction.get_product_id()},d=document.getElementById("modal-sku-template-moda").innerHTML;$("#modal-confirm-sku").html(Mustache.render(d,c)),api.lightbox($("#modal-confirm-sku"),"inline"),$(".form-wedding .mb-sku-choose label:eq(0)").click()}),$(document).on("click",".form-wedding .mb-sku-choose label",function(){$(".form-wedding .mb-sku-choose").find(".selected").removeClass("selected"),$(this).addClass("selected").find("span").addClass("selected")})})})},changeSKU:function(){$(".mb-sku-choose label").on("click",function(){$(".mb-sku-choose").find(".selected").removeClass("selected"),$(this).addClass("selected").find("span").addClass("selected")});var b=a.get_input_select_sku();if(b.length>0)$(a.get_input_select_sku()).click();else{var c=$(".main-product [name=codItemFusion]"),d=!1;c.length>1?($(c).each(function(a,b){0===$(b).data("value-name").indexOf("110 volts")&&($(b).click(),d=!0)}),d||$(".main-product [name=codItemFusion]:eq(0)").click()):$(".main-product [name=codItemFusion]:eq(0)").click()}},pickupStore:function(){a.boxArea().find("[name=codItemFusion]").on("change",function(){a.is_pickup_store()?$(".main-product").addClass("is-pickupstore"):$(".main-product").removeClass("is-pickupstore")}),a.boxArea().find("[name=codItemFusion]").trigger("change")},marketPlace:function(){a.boxArea().find("[name=codItemFusion]").on("change",function(){var b=a.get_selected_sku()||api.getParamUrl(location.href,"codItemFusion"),c=a.get_input_select_sku().attr("data-partners")||"";if($(".offers-table [name=codItemFusion]").val(b),$("[data-sku]").hide(),api.is_page_partner){if($("[name=codItemFusion][value="+b+"]").click(),b){var d=api.setUrlParam(location.href,"codItemFusion",b);history.pushState("","",d)}$(".ordenation .dropdown-toggle a").each(function(a,c){var d=api.setUrlParam($(c).attr("href"),"codItemFusion",b);$(c).attr("href",d)})}$("[data-sku*="+b+"]").show();var e=""!=b&&0==$("[data-sku*="+b+"]").length;if(api.is_moda&&!b&&(e=!1),!e&&api.is_moda&&$("[data-sku]:eq(0)").show(),e?$(".main-product").addClass("unavailable"):$(".main-product").removeClass("unavailable"),void 0!=a.get_selected_sku()&&""!=a.get_selected_sku()){var f=a.get_input_select_sku().attr("data-smallest-price"),g=a.get_input_select_sku().attr("data-highest-price"),h=c.split(",");$(".op-hlgt-start").text(f),$(".op-hlgt-end").text(g),$("[data-partner-id]").css("display","none");for(var i=0;i<h.length;i++)$("[data-partner-id="+h[i]+"]").show().attr("data-sku-selected",a.get_selected_sku());if($(".box-partners").length){var j=$(".box-partners [data-sku-selected="+a.get_selected_sku()+"]");j.length>3?$(".box-partners .see-more").show():$(".box-partners .see-more").hide(),$(".box-partners [data-sku-selected="+a.get_selected_sku()+"]:gt(2)").hide(),j.length>0?($(".box-partners").removeAttr("hidden").show(),$(".in-card").parent().addClass("box-with-partner")):($(".box-partners").hide(),$(".in-card").parent().removeClass("box-with-partner"))}}}),api.marketPlaceModa=function(){var a=api.getParamUrl(location.href,"codItemFusion");if(""!=a){var b=modaProduct.listProducts().getModelBySKU(a),c=modaProduct.listProducts().getSizeBySKU(a);$(".main-product [data-model='"+b+"']").click(),$(".main-product [data-size='"+c+"']").click()}},a.boxArea().find("[name=codItemFusion]").trigger("change"),$(".box-partners").on("click",".b-buy-partner",function(a){a.preventDefault(),location.href=$(this).attr("href")+"&codItemFusion="+api.buyAction.get_selected_sku()}),$(".box-partners").on("click",".see-more .bp-lnk",function(a){a.preventDefault();var b=api.buyAction.get_selected_sku(),c=b?"?codItemFusion="+b:"";location.href=$(this).attr("href")+c})}};return b.addEventToBuyForm(),b.oneClick(),b.marketPlace(),b.pickupStore(),b.changeSKU(),a}());var oneClick={init:function(){$(".btn-one-click").on("click",function(a){var b=$(this).closest("form"),c=b.find("[name=codItemFusion]").val(),d=b.data("extended_warranty"),e=$.cookie("hasOneClick")&&"true"==$.cookie("hasOneClick")?panelDomain+"/checkout/oneClickBuy.xhtml?codItemFusion="+c:panelDomain+"/CustomerWeb/pages/LoginOneClick?rt="+panelDomain+"/checkout/oneClickBuy.xhtml?codItemFusion="+c;d&&(e=b.attr("action")+"?codItemFusion="+c+"&oneclick=true",e+="&loja="+$(this).find(".spt-b-main-oneclick").data("loja")),b.find("[name=storeId]").length>0&&(e+="&storeId="+b.find("[name=storeId]").val()),location.href=e})},redirect:function(a){$this=$(a),$this.val()===$this.find("option[value=newAddress]").val()&&(location.href=panelDomain+"/CustomerWeb/pages/OneClickNewAddress?rt="+catalogDomain+"/produto/"+$this.closest(".hproduct").find("input[name=codProdFusion]").val()+"/")},validate:function(a){if(this.updateFields(a),$("#sku-select option").length>0){var b=$("#sku-select option:selected").text(),c=oneClick.oneClickurl(a),d='<div class="popUp popAtencion"><div class="pop-title"><span class="ico icErrorMin">.</span><strong>As opções selecionadas para o produto estão corretas?</strong></div><div class="pop-content"><div class="skuSelected">'+b+'</div>.<br /><div class="buttons"><a href="'+c+'" onclick="return true;" class="btn btYesContinue">Sim</a><a href="#" class="btn btNoContinue" onclick="$.fancybox.close();return false;">Não</a></div></div></div>';return $.fancybox(d,{width:440,height:"auto",autoDimensions:!1}),!1}},oneClickurl:function(a){var b="";if(cookie("hasOneClick")&&"true"===cookie("hasOneClick")&&cookie("31000Customer")&&""!==cookie("31000Customer")){b=checkoutDomain+"/checkout/oneClickBuy.xhtml";var c=jQuery(".fullProduct form.checkout [name=codItemFusion]").val()||jQuery(".full-product form.checkout [name=codItemFusion]").val()||$(a).closest(".hproduct").find("[name=codItemFusion]").val();b+="?codProdFusion="+(jQuery(".fullProduct form.checkout [name=codProdFusion]").val()||jQuery(".full-product form.checkout [name=codProdFusion]").val()||$(a).closest(".hproduct").find("[name=codProdFusion]").val())+"&codItemFusion="+c+($('[name="storeId"]').val()?"&storeId="+$('[name="storeId"]').val():"")}else b=panelDomain+"/CustomerWeb/pages/LoginOneClick?rt="+location.href;return b},updateFields:function(a){var b=$(a),c=b.closest(".hproduct").find(".buy");b.find("input[name=codProdFusion]").val(c.find("input[name=codProdFusion]").val()),b.find("input[name=codItemFusion]").val(c.find("[name=codItemFusion]").val())}};$(".products-area").length>0&&oneClick.init(),$(document).on("calc_cep",function(){var a=api.buyAction.get_selected_sku()||$("[name=codItemFusionModa]").val(),b=$(".input-cep").val().replace("-","");$(".box-partners .bp-it:visible").each(function(c,d){var e=$(this).attr("data-partner-id"),f=$(this).attr("data-partner-value"),g=this,h=$(".bp-freight",g);h.html('<span class="customLoadAjax"></span>'),api.calcFreight(a,b,e,f).done(function(a){if(0==a.freightOptions.length||0==a.freightOptions[0].totalWeekdays)return h.html(""),!1;var b=a.freightOptions[0].totalWeekdays+(a.freightOptions[0].totalWeekdays>1?" dias":" dia"),c=parseFloat(a.freightOptions[0].totalFreightPrice,10)>0?parseFloat(a.freightOptions[0].totalFreightPrice,10).formatMoney()+" frete":"frete grátis";h.html('<span class="bp-fr-value">+ '+c+"</span> em até "+b)}).fail(function(){h.html("")})}),$(".offers-table .partner-line").each(function(){var c=$(this).attr("data-partner-id"),d=this,e=$(this).attr("data-partner-value"),f=$(this).attr("data-max-parcels");$(".freight-box",d).html('<span class="customLoadAjax"></span>'),api.calcFreight(a,b,c,e).done(function(a){if(newAPICep){if(0==a.freightOptions.length)return $(".bp-freight",d).html(""),!1;var b=a.freightOptions[0].totalWeekdays+(a.freightOptions[0].totalWeekdays>1?" dias":" dia"),c=a.freightOptions[0].totalWeekdays>1?" úteis":" útil";freightValue=parseFloat(a.freightOptions[0].totalFreightPrice,10)>0?parseFloat(a.freightOptions[0].totalFreightPrice,10).formatMoney():"frete grátis",html='<span class="value-freight">'+freightValue+'</span><span class="value-term">em até <span class="days-term">'+b+"</span>"+c+"</span>";var g=parseFloat(a.freightOptions[0].totalFreightPrice,10)+parseFloat(e,10);"submarino"==$(d).attr("data-partner")?(formatCepAllOptions(a,function(a,b){$(".freight-box",d).html(Mustache.render(b,a))}),$(".total-value",d).html(g.formatMoney()),$(".parcel-value",d).html(f+"x de "+(g/f).formatMoney()+" sem juros")):($(".total-value",d).html(g.formatMoney()),$(".parcel-value",d).html(f+"x de "+(g/f).formatMoney()+" sem juros"),a.freightOptions[0].totalWeekdays>0?$(".freight-box",d).addClass("rendered").html(html):$(".freight-box",d).html("- -"))}}).fail(function(){boxfrete.html("")})})}),($(".spt-i-fb").length||$(".spt-i-tw").length||$(".spt-i-pint").length)&&injs.load(["vendor/social-counter/social-counter"],function(a){socialCounter("facebook",".count-fb"),socialCounter("twitter",".count-tw"),socialCounter("pinterest",".count-pint"),$(".spt-i-mail").click(function(){api.lightbox(".recommend","inline")})}),$(".valid-form,.valid-form-newsletter,.valid-form-newsletter-moda").length&&injs.load(["vendor/validate/jquery.validate.min"],function(){var a;$(".valid-form-newsletter-moda").validate({rules:{"cr-email":{required:!0},"cr-gender":{required:!0}},messages:{"cr-email":{required:"digite seu e-mail",email:"e-mail inválido"},"cr-gender":{required:"selecione um gênero"}},submitHandler:function(a){return $(".spt-b-cadastrar").removeAttr("data-title"),$(document).trigger("hidebtip"),$.post($(a).attr("action"),$(a).serialize()).done(function(a){$(".newsletter-moda").html("<div class='box-success'><p class='form-success'>Quase lá!</p><p class='form-text'>Acesse seu e-mail para confirmar seu cadastro.</p></div>")}),!1}}),$(".valid-form-newsletter-moda").submit(),$("[name='cr-email']").blur().removeClass("error"),$(".spt-b-cadastrar").on("mouseenter",function(){var a="",b=$(".valid-form-newsletter-moda").data("validator");$.each(b.invalid,function(c,d){"cr-email"==c&&(d=b.errorMap["cr-email"]?b.errorMap["cr-email"]:""==$.trim($(".valid-form-newsletter-moda").find("input[name='cr-email']").val())?"digite seu e-mail":"e-mail inválido"),a+="<div>"+d+"</div>"}),""==a?$(".spt-b-cadastrar").removeAttr("data-title").removeClass("disabled"):$(".spt-b-cadastrar").attr("data-title",a).addClass("disabled")}),$(".valid-form").each(function(){$(this).validate({highlight:function(a){$(a).parent().addClass("field-error").removeClass("field-valid")},unhighlight:function(a){$(a).parent().removeClass("field-error").addClass("field-valid")},submitHandler:function(a){var b=$(a).attr("action"),c=$(a).attr("method")||"POST",d=$.cookie("b2wEPar")||"",e=$(a).serialize()+"&epar="+d;$(a).empty().html($("<div>").addClass("customLoadAjax")),$.ajax({url:b,type:c,data:e}).done(function(b){var c;c=$(a).data("sucess")?$($(a).data("sucess"))[0].outerHTML:"Sua mensagem foi enviada com sucesso!";var d=$(a).data("result-target")||a;$(d).html(c)}).error(function(a){console.log("Erro: "+a)})}})}),$(".valid-form-newsletter").each(function(){$(this).validate({onkeyup:!1,onsubmit:!0,onclick:!1,onfocusout:!1,messages:{"optin.email":{required:"Esse campo é obrigatorio",email:"verifique o e-mail digitado e tente novamente"}},invalidHandler:function(b,c){return $(".valid-form-newsletter").on("click","label.error",function(){$(this).remove(),clearTimeout(a)}),a=setTimeout(function(){$(".valid-form-newsletter label.error").remove()},2e3),!1},submitHandler:function(b){return $.post($(b).attr("action"),$(b).serialize()).done(function(c){$(".box-success",b).remove(),$(".nl-container",b).hide(),$(b).append("<div class='box-success'><p class='form-success'>Quase lá!</p><p class='form-text'>Acesse seu e-mail para confirmar seu cadastro.</p></div>"),clearTimeout(a),a=setTimeout(function(){$(b)[0].reset(),$(".nl-container",b).show(),$(".box-success",b).remove()},7e3)}),!1}})})}),$.fn.serializeObject=function(){var a=[];return this.each(function(){for(var b=$(this),c=b.serialize(),d=c.split("&"),e={},f=0;f<d.length;f++){var g=d[f].split("=");e[g[0]]=decodeURIComponent(g[1])}a.push(e)}),this.size()>1?a:1==this.size()?a[0]:void 0},$(".acrN").length&&(api.type_vitrine=function(){return $("#vitrine.products-area").hasClass("grid")?"grid":"list"},injs.load(["vendor/relativehref/relativehref"],function(){injs.load(["vendor/easyjax/easyjax"],function(){easyjax=!1,pageContent=[],$(".acrN").easyjax({loadingStart:function(a){$(a).append('<div id="overlay" style="background:#fff;opacity:0.9;width:100%;height:100%;position:absolute;left:0;top:0;filter:alpha(opacity=90); z-index: 100;"></div><span class="loadAjax"></span>')}})})})),api.exclusiveMarketplace=$("[data-exclusive-marketplace=true]").length>0,$(".moda-sku").length&&(api.is_moda=!0,injs.load(["vendor/btip/btip"],function(){injs.load(["vendor/moda/moda"],function(){modaProduct=modaConstruct(".main-product").init(function(){api.marketPlaceModa()}),$("[data-title]").btip()})})),$(".vitrine-moda .fashion-product").length&&injs.load(["vendor/btip/btip"],function(){injs.load(["vendor/moda/moda"],function(){$("[data-title]").btip(),api.is_moda=!0;var a;$(document).on("mouseover",".grid.vitrine-moda .fashion-product",function(){new modaConstruct(this).init(),$(".vitrine-moda .fashion-product.hover").removeClass("hover"),clearTimeout(a),$(this).addClass("hover")}),$(document).on("mouseleave",".grid.vitrine-moda .fashion-product",function(){a=setTimeout(function(){$(".vitrine-moda .fashion-product.hover").removeClass("hover")},300)}),$(document).on("mouseover",".btip-element",function(){$(".vitrine-moda .fashion-product.hover").length>0&&clearTimeout(a)})})}),$(".custom-select").length&&injs.load(["vendor/selectli/selectli"],function(){$(".custom-select").customSelect()}),$(".use-tip").length&&injs.load(["vendor/btip/btip"],function(){$("[data-title]").btip()}),$("#header .h-cart").length>0&&(layerCart.init(),0===$(".vitrine-moda").length&&dragproducts.init()),$(document).on("click",".opt-lista",function(){$(this).hasClass("grid")?($("#vitrine.products-area").removeClass("list").addClass("grid"),$("#vitrine.products-area .carousel-list").trigger("_cfs_triggerEvent",["destroy",!0]).parent().addClass("carousel-vertical").find("button[class*=spt-b-carousel]").remove(),$(".carousel-vertical").length>0&&$(".carousel-vertical").carousel({vertical:!0,prev_next:!0})):$(this).hasClass("list")&&($("#vitrine.products-area").removeClass("grid").addClass("list"),api.is_moda&&(moda(),$("#vitrine.products-area .carousel-list").trigger("_cfs_triggerEvent",["destroy",!0]).parent().removeClass("carousel-vertical").find("button[class*=spt-b-carousel]").remove(),$(".carousel").carousel({prev_next:!0,align:"left"}))),$(".opt-lista").removeClass("selected"),$(this).addClass("selected")}),$.fn.opacity=function(){return this.each(function(a,b){var c=$(this).data("target"),d=$(this).data("event"),e=$(c);e.on(d,function(){e.hasClass("hp-overlay")?e.removeClass("hp-overlay"):e.addClass("hp-overlay")})})},$(function(){-1!=location.href.indexOf("dev.")&&$("a[href^='http://www.submarino.com.br']").each(function(){$(this).attr("href",$(this).attr("href").replace("http://www","http://dev.www"))})}),$(function(){-1!=location.href.indexOf("staging.")&&$("a[href^='http://www.submarino.com']").each(function(){$(this).attr("href",$(this).attr("href").replace("http://www","http://staging.www"))})}),api.is_moda&&injs.load(["http://www.upcload.com/widget.js"],function(){var a=new UpcloadWidget({productId:"suba-"+$("input[name=codProdFusion]").val(),language:"pt",sizesRegion:"br",thumb:$(".sz").attr("src"),load:function(b){var c=$(".virtual-tester");c.removeAttr("hidden"),c.bind("click",function(){return a.open(),!1})},error:function(a){console.log("Provedor Virtual - Erro ao carregar o produto: "+a)}})}),$(".main-product").length>0&&$(".mb-sku-choose [name='codItemFusion']").on("change",function(){$(document).trigger("sku:change",[api.buyAction.get_selected_sku()])});var rating_debug=!1||api.getParamUrl(location.href,"rating");if(rating_debug&&$("[data-reviews], [data-average], [data-evaluatetable]").length>0&&injs.load(["vendor/mustache/mustache"],{test:window.Mustache},function(){injs.load(["vendor/rating/rating"],function(){$("[data-reviews]")&&$("[data-reviews]").displayCompanyIdRatingReviews(),$("[data-average]")&&$("[data-average]").displayRatingAll(),$("[data-evaluatetable]")&&($("[data-totalreview]").html(Math.ceil($("[data-totalreview]").data("totalreview")/$("#average-reviews-result").data("limit"))),$("[data-evaluatetable]").displayTableReviews())})}),$(".bp-list .bp-it").length>0&&injs.load(["vendor/mustache/mustache"],{test:window.Mustache},function(){injs.load(["vendor/rating/rating"],function(){$(".bp-list .bp-it").hover(function(){var a=$(this),b=$(".average-tooltip",a);if(0===b.length){var c=$(".installmentList",a),d=$(a).data("partner-id");if(rating_debug)$.when(rating.getRatingCompanyId(d,null),rating.getReviewsCompanyId(d,null)).done(function(b,d){var e=$.extend(b,d),f=$("#average-tooltip").html(),g=Mustache.render(f,e);$(a).append(g),$(".installment-list",a).html(c),c.show();var h=$(".bp-lnk",a).text();$(".link-partner",a).text(h).attr("href","/lojista/"+h)});else{var e={rating:!1},f=$("#average-tooltip").html(),g=Mustache.render(f,e);$(a).append(g),$(".installment-list",a).html(c),c.show();var h=$(".bp-lnk",a).text();$(".link-partner",a).text(h).attr("href","/lojista/"+h)}}else b.show()},function(){var a=$(this),b=$(".average-tooltip",a);b.hide()})})}),$(".buy-together-list").length){var buyTogether={getTotalSalePrice:function(){var a=parseFloat($(".together-name").data("saleprice"),10)||0;return $(".buy-together-list").find("[name='buyTogether']:checked").each(function(){var b=parseFloat($(this).data("saleprice"),10);a+=b}),parseFloat(a,10)},getTotalRegularPrice:function(){var a=parseFloat($(".together-name").data("regularprice"),10)||0;return $(".buy-together-list").find("[name='buyTogether']:checked").each(function(){a+=parseFloat($(this).data("regularprice"),10)||0}),a},getTotalSelectedItens:function(){return $(".buy-together-list").find("[name='buyTogether']:checked").length},getListOfSkus:function(){var a=[];return a.push(parseInt(api.buyAction.get_selected_sku(),10)),$(".buy-together-list").find("[name='buyTogether']:checked").each(function(){a.push($(this).data("sku"))}),a}};injs.load(["vendor/mustache/mustache"],{test:window.Mustache},function(){var a=function(){var a={showBuy:buyTogether.getTotalSelectedItens()>0,totalItens:buyTogether.getTotalSelectedItens()+1+" itens",totalValue:buyTogether.getTotalSalePrice().formatMoney(),totalSave:(buyTogether.getTotalRegularPrice()-buyTogether.getTotalSalePrice()).formatMoney()},b=document.getElementById("template-b-buyTogether").innerHTML;$(".buyTogether-form").html(Mustache.render(b,a));for(var c=buyTogether.getListOfSkus(),d=0,e=c.length;e>d;d++)$(".buyTogether-form form").append("<input type='hidden' name='codItemFusion' value='"+c[d]+"'/>")};a(),$(".buy-together-label input").on("click",function(){a()}),$(".buyTogether-form form").on("submit",function(){a()})})}if($(".bar-floating").length>0&&$(".bar-floating").insertBefore(".bottom-header"),$(".comparatorCheck").length>0&&injs.load(["vendor/comparator/comparator"],function(){injs.load(["vendor/cookie/jquery.cookie"],function(){comparatorProducs().init()})}),$(".scroll-point").length&&injs.load(["vendor/scroll-point/scroll-point"],function(){$(".scroll-point").scrollPoints({executeDown:function(a){$(a).fadeIn("fast")},executeUp:function(a){$(a).fadeOut("fast")}})}),$(".toggle-floating-bar")&&$(".toggle-floating-bar").on("click",function(){$(".bar-floating").toggleClass("closed")}),$("[data-top='true']").length>0&&$(".filter").each(function(a,b){var c=$(this);if(c.find("[data-top='true']").length>0){var d=$(".filter-scroll [data-top='true']",c),e=d.closest(".filter"),f=e.find(".filter-title").text(),g=$("<div>").addClass("box-filter-top"),h=$("<span>").addClass("title-top-filter").text("Top "+f),i=$("<ul>").addClass("lst").html(d.clone(!0)),j=$("<span>").addClass("title-top-allFilter").text("Todas as "+f.toLowerCase()),k=$('<input class="input-filter" placeholder="Busque por marca">');h.appendTo(g),i.appendTo(g),j.appendTo(g),k.appendTo(g),g.insertAfter($(".filter-title",e)),$(k).on("keyup",function(){var a=new RegExp($(this).val(),"i");$(".filter-scroll .it-list",e).hide(),$(".filter-scroll .it-list",e).filter(function(){return a.test($(this).text())}).show()})}}),$(".buy-form .list-discounts .mp-pb-discount").length){var listOpnsEspecials=["XMLGOOGLE","COMPARADORESSUB"];injs.load(["vendor/cookie/jquery.cookie"],function(){var a=api.getParamUrl(location.href,"opn")||$.cookie("subaOpn");listOpnsEspecials.indexOf(a)>-1&&$(".buy-form").addClass("special-price")})}if(api.getParamUrl(location.href,"opn")){var opn=api.getParamUrl(location.href,"opn").toLowerCase(),contentStatic="/estaticapop/cr-home-";api.getParamUrl(location.href,"estatico")&&(contentStatic="/estaticapop/");var url=location.protocol+"//"+location.hostname+contentStatic+opn;opn&&openModalOpn(opn,url)}if(App.once("load",function(){var a=this.$;a.app.on("run",function(){var a=App.$;a(".grid-fix-m-10 .pure-u-1-3 > *:not(.oas-hidden)").each(function(){a(this).each(function(){var b,c=a(this),d=c.parents(".pure-u-1-3").eq(0);c.find("> a > img").length&&c.addClass("border-style"),c.hasClass("fix-grid-2-3")||c.find(".fix-grid-2-3").length?(b="pure-u-2-3",d.next().remove()):(c.hasClass("fix-grid-3-3")||c.find(".fix-grid-3-3").length)&&(b="pure-u-3-3",d.next().remove(),d.next().remove()),b&&d.removeClass("pure-u-1-3").addClass(b)})})})}),App.on("load",function(){var a=this.$;this._;oas.on("print:end",function(){var b=a("#AbreCRPorteiro",document),c=b.data("expires")||15,d=(b.data("path")||"/",b.data("noRecordCookie")||!1),e=b.attr("href")||"";e=e?e.replace(/(.*\/estaticapop\/)(.*)/gi,"$2"):e;var f=e?e.replace(/[-]/gi,""):!1;if(f&&"true"!=a.cookie(f)){var g=b.data("noClose")||!1;window.linkCR=b.attr("href"),api.lightbox(b.attr("href"),"ajax",null,null,{closeOnBgClick:!g,enableEscapeKey:!g}),d||a.cookie(f,!0,{expires:c,path:"/"}),setTimeout(function(){var b=a(".cr-porteiro");a.app.trigger("run:cr",b),b.find("> .app-cr").one("complete",function(){}),a(".form-cr-porteiro, .form-cr-aniversario").on("submit",function(){a.cookie(f,!0,{expires:c,path:"/"})}),g?(a(".mfp-close").hide(),a(".mfp-content").css({paddingTop:20}),a(".btn-fechar-cr").on("click.closePopup",function(){window.$.magnificPopup.close()})):a(document).delegate(".cr-msg1","click",function(a,b,c){window.$.magnificPopup.close()})},500)}})}),App.on("load",function(){var a=this.$;this._;oas.on("print:end",function(){a(".intermission-close").on("click",function(){a(this).parents(".bannerintermission").hide()}),setTimeout(function(){a(".bannerintermission").hide(),a(".app-intermission").hide(),a(".intermissionanimation").hide()},1e4)})}),App.on("load",function(){var a=this.$;this._;oas.on("print:end",function(){var b=a(".sidebar [data-component='banner']").not(".oas-hidden").last();if(b.size()){b.addClass("bannerFix"),b.data("started",!1);var c=parseInt(b.css("marginBottom").replace("px","")),d=a(".hasSidebarLeft > .content").last().parents(".grid-control").offset().top,e=null,f=0;a(window).on("scroll",function(g){var h=a(this),i=a(".hasSidebarLeft > .content").last().parents(".grid-control").outerHeight()-b.outerHeight()-c,j=a("#header > .content-header").outerHeight();if(topLastBannerinit=b.offset().top-a(".content-header").outerHeight()+c,!e&&e<topLastBannerinit&&(e=b.offset().top-a(".content-header").outerHeight()+c),e>i)return!1;i+=d,!b.data("started")&&a(".bar-floating").size()&&(b.data("started",!0),b.hasClass("withBarCompare")||b.addClass("withBarCompare"),f=a(".bar-floating").outerHeight(),e-=f,i+=f),j+=f+c;var k=h.scrollTop();k>=e?(b.data("started",!0),b.addClass("fixed"),k+j>=i?b.css({top:i,position:"absolute"}):b.removeAttr("style")):b.removeClass("fixed")})}})}),$(".alert-user-true").length>0){var timer=1e4;setTimeout(function(){$(".alert-user-true").hide()},timer)}App.on("load",function(){var a=this.$;this._;injs.load(["vendor/spacey/templates"],function(){oas.on("print:start",function(){OAS.Position.prototype.render=function(){var a=this;console.log(a.context);var b=a.context.type,c=a.context.items.length>0?spaceyTemplates.execute(b):"oasHidden";if(!c)return document.getElementById("renderMessage").innerHTML="Template: <b>"+b+"</b> não encontrado",!1;if("function"!=typeof c){var d=Mustache.render(c,{items:a.context.items});return d}c.call(a)}})}),oas.on("print:end",function(){a(".bannerBuild").each(function(){a(this).find(".border-style").size()||a(this).addClass("border-style"),a(this).children().size()||a(this).addClass("oas-hidden"),a(this).find(".pure-g").size()&&a(this).css("width","100%")})})});